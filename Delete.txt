#include <iostream>
#include<map>
#include<fstream>
#include<cstring>
using namespace std ;

int main() {
    
    map<string,string> map1;
    map<string,string>::iterator it;
    fstream file;
    int count=0;
    string word, t, q, filename;
    string str[2]={"d1.txt","d2.txt"};
        count=0;
        filename = "d1.txt";
        file.open(filename.c_str());
        while(file >> word)
        {
            
            count++;
            it = map1.find(word);
            if(it==map1.end())
            {
                
                string t;
                t=to_string(count);
                string temp;
                temp="{"+str[0]+" , "+t+"}";
                map1[word]=temp;
            }
            else{
                string temp;
                string temp2;
                temp=it->second;
                string t;
                t=to_string(count);
                temp2="{"+str[0]+" , "+t+"}";
                temp=temp+" , "+temp2;
                map1[word]=temp;
                
            }
        }
    
    
    ofstream Indexed_file("Indexed_file.txt");
     for (it = map1.begin(); it != map1.end(); ++it) {
         cout << '\t' << it->first << '\t' << it->second<< '\n';
         Indexed_file<<'\t'<<it->first<<'\t'<<it->second<<'\n';
     }
    cout<<"Enter word you want to search"<<endl;
    string s2;
    cin>>s2;
    fstream file2;
    string word1, t1, q1, filename1;
    filename1 = "d2.txt";
    file2.open(filename1.c_str());
    
    int flag=0;
    while(file2 >> word1)
    {
        if(word1 == s2)
        {
            it=map1.find(s2);
            cout<<it->second<<endl;
            flag=1;
        }
        
    }
    if(flag==0)
    {
        cout<<"*****ENTER CORRECT KEYWORD*****";
    }
    
    
    
    return 0;
}
